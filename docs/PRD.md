# Product Requirements Document (PRD)
## Logistics Platform

## 1. Обзор проекта

Платформа для управления логистикой, предназначенная для эффективного управления водителями, устройствами, зонами, адресами, заказами, маршрутами, алертами и активностью.

## 2. Функциональные требования

### 2.1 Управление водителями (Drivers)
- Регистрация и управление профилями водителей
- Отслеживание статуса водителей
- История активности водителей

### 2.2 Управление устройствами (Devices)
- Регистрация и управление GPS-трекерами
- Связь устройств с водителями
- Мониторинг состояния устройств

### 2.3 Управление зонами (Zones)
- Создание и редактирование зон доставки
- Геозоны для мониторинга
- Настройка правил для зон

### 2.4 Управление адресами (Addresses)
- База адресов доставки
- Геокодирование адресов
- История адресов

### 2.5 Управление заказами (Orders)
- Создание и отслеживание заказов
- Связь заказов с водителями и адресами
- Статусы заказов

### 2.6 Управление маршрутами (Routes)
- Планирование маршрутов
- Оптимизация маршрутов
- Отслеживание выполнения маршрутов

### 2.7 Управление алертами (Alerts)
- Система уведомлений
- Конфигурация правил алертов
- История алертов

### 2.8 Активность (Activity)
- Логирование всех действий
- История изменений
- Аналитика активности

## 3. Технические требования

### 3.1 Backend
- Framework: NestJS
- Database: PostgreSQL (через Supabase)
- ORM: Prisma
- API: RESTful API

### 3.2 Frontend
- Framework: SolidJS
- Build tool: Vite
- Styling: TailwindCSS
- State management: TanStack Query

### 3.3 Инфраструктура
- База данных: Supabase
- CI/CD: GitHub Actions
- Деплой: Vercel (frontend)

## 4. Модули системы

1. **drivers** - Управление водителями
2. **devices** - Управление устройствами
3. **zones** - Управление зонами
4. **addresses** - Управление адресами
5. **orders** - Управление заказами
6. **routes** - Управление маршрутами
7. **alerts** - Управление алертами
8. **activity** - Логирование активности

## 5. API Endpoints

API будет организован по модулям:
- `/api/drivers` - эндпоинты для водителей
- `/api/devices` - эндпоинты для устройств
- `/api/zones` - эндпоинты для зон
- `/api/addresses` - эндпоинты для адресов
- `/api/orders` - эндпоинты для заказов
- `/api/routes` - эндпоинты для маршрутов
- `/api/alerts` - эндпоинты для алертов
- `/api/activity` - эндпоинты для активности

## 6. Безопасность

- JWT аутентификация
- Валидация входных данных
- Защита от SQL-инъекций через Prisma
- CORS настройки
- Rate limiting

## 7. Масштабируемость

- Модульная архитектура
- Возможность горизонтального масштабирования
- Кэширование часто запрашиваемых данных
- Оптимизация запросов к базе данных

## 8. Документация

- Swagger/OpenAPI документация для API
- README файлы для каждого модуля
- Комментарии в коде
